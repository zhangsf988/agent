# 应用名称
spring.application.name=agent

# ======================== Spring AI 配置 ========================
# OpenAI 基础配置（兼容阿里云通义千问）
spring.ai.openai.api-key=${OPENAI_API_KEY}
spring.ai.openai.base-url=https://dashscope.aliyuncs.com/compatible-mode

# 聊天模型配置
spring.ai.openai.chat.options.model=qwen-max-latest
spring.ai.openai.chat.options.temperature=0.7

# 嵌入模型配置
spring.ai.openai.embedding.options.model=text-embedding-v4
spring.ai.openai.embedding.base-url=https://dashscope.aliyuncs.com/compatible-mode

# Pinecone 向量库配置
spring.ai.vectorstore.pinecone.api-key = ${PINECONE_API_KEY}
spring.ai.vectorstore.pinecone.index-name=spring-ai

# ======================== 数据源配置 ========================
spring.datasource.type=com.zaxxer.hikari.HikariDataSource
spring.datasource.url=jdbc:mysql://localhost:3306/agent?useSSL=true&serverTimezone=Asia/Shanghai&characterEncoding=utf-8&useUnicode=true&allowPublicKeyRetrieval=false&rewriteBatchedStatements=true&lower_case_table_names=1
spring.datasource.username=root
spring.datasource.password=root
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ======================== MyBatis 配置 ========================
# 配置 mapper 对应的 xml 文件路径
mybatis.mapper-locations=classpath:mapper/*.xml
# 配置 MyBatis 的实体类别名扫描路径
mybatis.type-aliases-package=com.zsf.agent.entity
# 自动驼峰命名规则（从数据库列名到Java属性名）映射
mybatis.configuration.map-underscore-to-camel-case=true

# ======================== JPA/Hibernate 配置 ========================
# 命名策略：使用标准物理命名（不自动修改表名大小写）
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
## 显示SQL语句
#spring.jpa.show-sql=true
## 格式化SQL输出
#spring.jpa.properties.hibernate.format_sql=true
# 指定数据库方言（MySQL 8.x）
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect

# ======================== SQL初始化配置（注释备用） ========================
# 启用SQL脚本初始化
# spring.sql.init.mode=
# 数据库平台（对应脚本后缀）
# spring.sql.init.platform=mysql
# Schema初始化脚本路径（Spring AI 聊天记忆表默认脚本）
# spring.sql.init.schema-locations=classpath:org/springframework/ai/chat/memory/repository/jdbc/schema-mysql.sql

# ======================== 服务器编码配置 ========================
# 强制设置UTF-8编码
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.force=true

logging.level.org.springframework.ai=DEBUG
logging.level.com.zsf.agent=INFO